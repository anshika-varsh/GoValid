{% extends 'base_dash.html' %}
{% load static %}

{% block head %}
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'css/feasibility_score.css' %}">
{% endblock %}

{% block body %}
<div class="wrapper">
    <!-- Main Feasibility Box -->
    <div class="container">
        <div class="score-wrapper">
            <div class="score-value">{{ data.score }}/100</div>
            <div class="score-label">Feasibility Score: {{ data.level }} {{ data.emoji }}</div>
            <p>{{ data.summary }}</p>
        </div>

        <div class="cards">
            <div class="card">
                <h3>Market Demand <span class="tag {{ data.market_demand.level|lower }}">{{ data.market_demand.level }} {{ data.market_demand.emoji }}</span></h3>
                <p>{{ data.market_demand.text }}</p>
            </div>
            <div class="card">
                <h3>Competition <span class="tag {{ data.competition.level|lower }}">{{ data.competition.level }} {{ data.competition.emoji }}</span></h3>
                <p>{{ data.competition.text }}</p>
            </div>
            <div class="card">
                <h3>Technical Feasibility <span class="tag {{ data.technical_feasibility.level|lower }}">{{ data.technical_feasibility.level }} {{ data.technical_feasibility.emoji }}</span></h3>
                <p>{{ data.technical_feasibility.text }}</p>
            </div>
            <div class="card">
                <h3>Financial Feasibility <span class="tag {{ data.financial_feasibility.level|lower }}">{{ data.financial_feasibility.level }} {{ data.financial_feasibility.emoji }}</span></h3>
                <p>{{ data.financial_feasibility.text }}</p>
            </div>
        </div>
    </div>

    <div class="table-container">
        <h3>Score Ranges</h3>
        <table>
            <thead>
                <tr><th>Range</th><th>Label</th><th>Emoji</th></tr>
            </thead>
            <tbody>
                <tr><td>80 â€“ 100</td><td><span class="table-tag high-tag">HIGH</span></td><td>ðŸŸ¢ Excellent potential</td></tr>
                <tr><td>50 â€“ 79</td><td><span class="table-tag medium-tag">MEDIUM</span></td><td>ðŸŸ¡ Needs improvement</td></tr>
                <tr><td>0 â€“ 49</td><td><span class="table-tag low-tag">LOW</span></td><td>ðŸ”´ High risk</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Scripts -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Smooth fade-in animations
        const cards = document.querySelectorAll('.card');
        cards.forEach((card, index) => {
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0) scale(1)';
            }, 200 + (index * 100));
        });

        const containers = document.querySelectorAll('.container, .table-container');
        containers.forEach((container, index) => {
            setTimeout(() => {
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, index * 150);
        });
    });
</script>
{% endblock %}